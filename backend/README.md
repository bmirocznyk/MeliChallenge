# MercadoLibre Backend API

A clean, scalable backend API built with Express.js and TypeScript using hexagonal architecture.

## ğŸ—ï¸ Architecture

This backend follows **Hexagonal Architecture** (Ports and Adapters) principles:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Interfaces Layer                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Controllers   â”‚  â”‚     Routes      â”‚  â”‚   Middleware â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Application Layer                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Use Cases     â”‚  â”‚    Services     â”‚  â”‚   DTOs       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Domain Layer                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    Entities     â”‚  â”‚   Repositories  â”‚  â”‚   Business   â”‚ â”‚
â”‚  â”‚                 â”‚  â”‚   (Interfaces)  â”‚  â”‚   Rules      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Infrastructure Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Repositories   â”‚  â”‚    Database     â”‚  â”‚   External   â”‚ â”‚
â”‚  â”‚  (Implement.)   â”‚  â”‚   (JSON/DB)     â”‚  â”‚   Services   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ Features

- âœ… **Hexagonal Architecture** - Clean separation of concerns
- âœ… **TypeScript** - Full type safety
- âœ… **Express.js** - Fast and reliable web framework
- âœ… **JSON Data Source** - Easy to switch to database later
- âœ… **CORS Support** - Frontend integration ready
- âœ… **Security Headers** - Helmet.js protection
- âœ… **Logging** - Morgan HTTP request logger
- âœ… **Error Handling** - Comprehensive error management

## ğŸ“¦ API Endpoints

### Products
- `GET /api/products` - Get all products
- `GET /api/products/:id` - Get product by ID
- `GET /api/products/search?q=query` - Search products

### Health & Info
- `GET /api/health` - Health check
- `GET /` - API information

## ğŸ› ï¸ Installation

```bash
# Install dependencies
npm install

# Development
npm run dev

# Production build
npm run build
npm start

# Linting
npm run lint
```

## ğŸ”§ Configuration

### Environment Variables
```env
PORT=4000
NODE_ENV=development
```

### CORS Origins
The API is configured to accept requests from:
- `http://localhost:5173` (Vite dev server)
- `http://localhost:3000` (Alternative dev server)
- `http://127.0.0.1:5173` (Localhost alternative)

## ğŸ“ Project Structure

```
src/
â”œâ”€â”€ domain/                    # Business logic
â”‚   â”œâ”€â”€ entities/             # Domain entities
â”‚   â””â”€â”€ repositories/         # Repository interfaces
â”œâ”€â”€ application/              # Application services
â”‚   â”œâ”€â”€ use-cases/           # Business use cases
â”‚   â””â”€â”€ services/            # Application services
â”œâ”€â”€ infrastructure/           # External concerns
â”‚   â”œâ”€â”€ repositories/        # Repository implementations
â”‚   â””â”€â”€ database/            # Data sources
â”œâ”€â”€ interfaces/               # Web layer
â”‚   â”œâ”€â”€ controllers/         # HTTP controllers
â”‚   â””â”€â”€ routes/              # Express routes
â”œâ”€â”€ shared/                   # Shared utilities
â”‚   â”œâ”€â”€ types/               # TypeScript types
â”‚   â””â”€â”€ utils/               # Utility functions
â””â”€â”€ server.ts                # Application entry point
```

## ğŸ”„ Database Migration

Currently using JSON files, but designed for easy database migration:

1. **Create new repository implementation** in `infrastructure/repositories/`
2. **Implement the same interface** as `JsonProductRepository`
3. **Update dependency injection** in `server.ts`
4. **No changes needed** in domain or application layers

## ğŸ§ª Testing

```bash
# Run tests
npm test

# Test coverage
npm run test:coverage
```

## ğŸ“Š Data Models

### Product
- **SellerInfo** - Seller details and reputation
- **ProductInfo** - Product specifications and details
- **ProductRating** - Reviews and ratings
- **ProductImages** - Image gallery with metadata

### Example Response
```json
{
  "id": 1,
  "title": "iPhone 15 Pro Max 256GB Titanio Natural",
  "price": 1500000,
  "currency": "ARS",
  "seller": {
    "id": 1,
    "name": "Apple Store Argentina",
    "reputation": 4.9,
    "verified": true
  },
  "images": [...],
  "reviews": [...],
  "attributes": [...],
  "variants": [...]
}
```

## ğŸ”’ Security

- **Helmet.js** - Security headers
- **CORS** - Cross-origin resource sharing
- **Input validation** - Request parameter validation
- **Error handling** - No sensitive data in error responses

## ğŸš€ Deployment

### Development
```bash
npm run dev
```

### Production
```bash
npm run build
npm start
```

### Docker (Future)
```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY dist ./dist
EXPOSE 4000
CMD ["npm", "start"]
```

## ğŸ”„ Future Enhancements

- [ ] **Database Integration** - MongoDB/PostgreSQL
- [ ] **Authentication** - JWT tokens
- [ ] **Caching** - Redis integration
- [ ] **Rate Limiting** - API throttling
- [ ] **Validation** - Joi/Zod schemas
- [ ] **Documentation** - Swagger/OpenAPI
- [ ] **Testing** - Unit and integration tests
- [ ] **Monitoring** - Health checks and metrics

## ğŸ“ License

This project is for educational purposes. 